import telebot
import time
import threading
token='6285500246:AAEr_f0PWWUGny_Cn70oez0TAEmrMeJE6Zw'
bot=telebot.TeleBot(token)
global textid
global t
global man_id
global username
global admin_id
global balance
global wait_time
global work
wait_time = 15
t = 0
username = 0
admin_id = 5699395851
man_id = 0
textid=0
balance = 0
work = 0 #0 - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | 1 - —Ä–∞–±–æ—Ç–∞–µ—Ç
def konec_work(message):
	bot.send_message(message.chat.id, f'–û—Ç–ª–∏—á–Ω–æ! –¢—ã –∑–∞–∫–æ–Ω—á–∏–ª —Ä–∞–±–æ—Ç—É! –¢–≤–æ–π –±–∞–ª–∞–Ω—Å:  {balance}')
	work=0
@bot.message_handler(commands=['start'])
def start_message(message):
  bot.send_message(message.chat.id,'–ü—Ä–∏–≤–µ—Ç ‚úå\n–≠—Ç–æ –æ—Ñ–∏—Ü–∞–ª—å–Ω—ã–π –±–æ—Ç –ó–∞—Ä–Ω–∏—á–Ω–æ–≥–æ –ù–∞—Ä–∫–æ–ø—Ä–∏—Ç–æ–Ω–∞ "–£ –ë–µ–ª–æ—á–∫–∏"\n–î–ª—è –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤, –Ω–∞–ø–∏—à–∏—Ç–µ - \n/–∫—É–ø–∏—Ç—å')
@bot.message_handler(commands=['–∫—É–ø–∏—Ç—å'])
def tovar(message):
    bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä(–Ω–∞–ø–∏—à–∏—Ç–µ /–±–µ—Ä—ë–∑–∞ –∏–ª–∏ /–∫–∏—à–º–∏—à)')
@bot.message_handler(commands=["–±–µ—Ä–µ–∑–∞",'–±–µ—Ä—ë–∑–∞'])
def bereza(message):
    username = message.from_user.username
    bot.send_message(message.chat.id, '–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!')
    man_id = message.from_user.id
    bot.send_message(admin_id,'–ü–æ–ª—É—á–µ–Ω –∑–∞–∫–∞–∑! –¢–æ–≤–∞—Ä: '+ '–ë–µ—Ä—ë–∑–∞\nTG –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –¥–ª—è —Å–≤—è–∑–∏: '+username+'\nTG ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: '+str(man_id))
@bot.message_handler(commands=["–∫–∏—à–º–∏—à"])
def bereza(message):
    username = message.from_user.username
    bot.send_message(message.chat.id, '–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!')
    man_id =message.from_user.id
    bot.send_message(admin_id,'–ü–æ–ª—É—á–µ–Ω –∑–∞–∫–∞–∑! –¢–æ–≤–∞—Ä: '+ '–ö–∏—à–ú–∏—à\nTG –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –¥–ª—è —Å–≤—è–∑–∏: '+username+'\nTG ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: '+str(man_id))
@bot.message_handler(commands=["—á–∞—Ç"])
def chat(message):
    if message.from_user.id == admin_id:
        msg = bot.send_message(int(admin_id), '–í–≤–µ–¥–∏ –∞–π–¥–∏ –∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å:')
        bot.register_next_step_handler(msg,chat2)
    else:
    	bot.send_message(message.chat.id, '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤!')
def chat2(message):
        global mestext
        global id
        id=message.text
        msg2=bot.send_message(admin_id, '–í–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:')
        bot.register_next_step_handler(msg2,chat3)
def chat3(message):
        mestext=message.text
        try:
            bot.send_message(int(id), str(mestext))
        except:
        	bot.send_message(admin_id, '–æ—à–∏–±–∫–∞')
@bot.message_handler(commands=['—à–∏—à–∫–∏'])
def get_reward(message):
	global work
	global balance
	if work == 0:
		bot.send_message(message.chat.id, f'–¢—ã –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å! –¢–≤–æ–π –±–∞–ª–∞–Ω—Å: {balance}\n–ú—ã —Å–æ–æ–±—â–∏–º, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞')
		time.sleep(30)
		work=+1
		balance+=1
		konec_work(message)
	else:
		bot.send_message(message.chat.id, '–¢—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—à—å')
@bot.message_handler(commands=['–ø—Ä–æ—Ñ–∏–ª—å'])
def profile(message):
	bot.send_message(message.chat.id,f'üë§ –ü—Ä–æ—Ñ–∏–ª—å\nüíµ –ë–∞–ª–∞–Ω—Å: {balance} —à–∏—à–µ–∫')
bot.infinity_polling()